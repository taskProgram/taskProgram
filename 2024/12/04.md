## 取り組んだ課題一覧
- progate
  - Ruby on Rails5 VI
## わかったこと
<h4>Ruby on Rails5 VIで追加するユーザー機能</h4>
ユーザーの一覧<br>
ユーザーの詳細<br>
ユーザーの新規登録<br>
ユーザーの情報編集<br>
<h5>まずは、モデルとテーブルの作成する</h5>
ユーザーのデータを保存できるように、データベースに users テーブルを用意し、それを操作するための User モデルを用意する<br>
rails g model User name:string email:string<br>
rails db:migrate<br>
・User 　モデル型<br>
・name　カラム名<br>
・string　データ型<br>
・rails db:migrateコマンドで、マイグレーションファイルの内容をデータベースに反映
<h5>users テーブルが作成できたら、ユーザーのデータを保存する</h5>
テーブルにデータを保存するには以下の手順で実施する<br>
1.rails consoleで、コンソールを起動<br>
2.newメソッドでUserモデルのインスタンスを作成<br>
3.saveメソッドでuserテーブルに保存<br>
rails console<br>
user = User.new(name: "にんじゃわんこ", email: "wanko@prog-8.com")<br>
user.save
<h5>現状、name と email が空でもユーザーを作成できてしまうためバリデーションを追加</h5>
値の重複がないかもチェックする<br>
データベースにすでに保存されているemailで新たにユーザーを登録できないように、「emailの重複がないか」をチェックするためのバリデーションを追加。<br>
「uniqueness: true」を指定することでチェックすることができる。<br>
validates :カラム名, {presence: true, uniqueness: true}<br>
例：validates :email, {presence: true, uniqueness: true}<br>
<h5>①ユーザー一覧ページの作成</h5>
ユーザーに関するusersコントローラと、「ユーザー一覧ページ」のindexアクションを作成。<br>
ユーザー一覧ページには、データベースに保存されているユーザーが全て表示されるようにする。<br>
また、ヘッダーにユーザー一覧ページへのリンクを追加。<br>
<h5>②ユーザー詳細ページの作成</h5>
ユーザー詳細ページのURLには「localhost:3000/users/1」のように、ユーザーデータのidを含めるようにする。<br>
ユーザー一覧ページのユーザー名が詳細ページのリンクとなるようにする。<br>
<h5>③ユーザー登録機能の作成</h5>
新規登録の流れ<br>
1: ユーザー登録ページの作成<br>
2: ユーザーの保存<br>
3: サクセス・エラーメッセージの表示<br>
<br>
1.ユーザー登録ページ作成<br>
・新規登録のことは英語で「signup」のため、ユーザー登録ページは「/sigups」でアクセスできるようにする。<br>
・投稿作成ページでは複数行の入力フォームだったので<textarea>タグを用いたが、ユーザー名とメールアドレスには1行の入力フォームで十分のため、inputタグを用いて作成する。inputタグは終了タグ（/input）が不要。<br>
2.ユーザーの保存<br>
・create アクションでユーザーを保存する。フォームの送信先は「/users/create」として、ユーザーを保存した後は、ユーザーの詳細ページにリダイレクトするようにする。<br>
・フォームに入力された値を送信するためにユーザー名とメールアドレス、2つのinputタグの両方にname属性を指定する必要がある。name属性の値が送信されるハッシュのキーになるため、データの内容が分かるようなname属性をつける。<br>
3.サクセス・エラーメッセージの表示<br>
・バリデーションを設定しているため、保存に成功した場合と失敗した場合の処理を追加する<br>
・保存に成功したとき、フラッシュを使ってサクセスメッセージを表示する<br>
・保存に失敗したときは、<br>
① フォームを表示する<br>
② エラー文を表示する<br>
③ フォームに初期値を入れる<br>
※inputタグでは、value属性の値が初期値になる。<br>
inputタグの初期値にRubyのコードを使うには、<%= %>を用いて「value="値"」の「" "」の中にRubyのコードを埋め込む。<br>
<h5>④ユーザーの情報編集</h5>
・作成したユーザーの情報を編集できるように edit アクション、update アクションを作成する<br>
・ユーザー編集機能は以下の手順で作成<br>
1: ユーザー編集ページの作成<br>
・ユーザー編集ページのURLには「localhost:3000/users/1/edit」のように、編集するユーザーのidを含め、ユーザー編集フォームには初期値を設定する。<br>
・ユーザー詳細ページに編集ページへのリンクを作成する。<br>
2: ユーザーの保存<br>
3: サクセス・エラーメッセージの表示<br>

## 次やること
- progate
  - Ruby on Rails5 VII
## 感じたこと
- ユーザー編集ページのフォームに入力した内容をデータベースに保存できるようにする際、名前とアドレスのname属性の記入が抜けていたので気をつけたい
## 学習時間
- today 2.5h
- total 45.5h
